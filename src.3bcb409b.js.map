{"version":3,"sources":["js/timer.js","index.js"],"names":["pad","value","String","padStart","getTimeComponents","time","days","Math","floor","hours","mins","secs","CountdownTimer","onTick","TargetDate","timer","document","getElementById","querySelector","intervalId","isActive","setInterval","currentTime","Date","now","clearInterval","updateClockInterface","textContent","start"],"mappings":";;;AAmFA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EA/EA,SAASA,EAAIC,GACJC,OAAAA,OAAOD,GAAOE,SAAS,EAAG,KAUnC,SAASC,EAAkBC,GAiBlB,MAAA,CAAEC,KAdIN,EAAIO,KAAKC,MAAMH,EAAQ,QAcrBI,MAVDT,EACZO,KAAKC,MAAOH,EAAQ,MAAyB,OASzBK,KALTV,EAAIO,KAAKC,MAAOH,EAAQ,KAAoB,MAK7BM,KAFfX,EAAIO,KAAKC,MAAOH,EAAQ,IAAc,OAK/CO,IAAAA,EAAAA,WAOgC,SAAA,EAAA,GAAtBC,IAAAA,EAAAA,EAAAA,OAAQC,EAAAA,EAAAA,WAAc,EAAA,KAAA,GAAA,EAAA,KAAA,aAAA,GAAA,EAAA,KAAA,YAAA,GAAA,EAAA,KAAA,aAAA,GAAA,EAAA,KAAA,YAAA,GAAA,EAAA,KAAA,YAAA,GAC7BC,KAAAA,MAAQC,SAASC,eAAe,WAChCX,KAAAA,KAAOU,SAASE,cAAc,uBAC9BT,KAAAA,MAAQO,SAASE,cAAc,wBAC/BR,KAAAA,KAAOM,SAASE,cAAc,uBAC9BP,KAAAA,KAAOK,SAASE,cAAc,uBAC9BC,KAAAA,WAAa,KACbC,KAAAA,UAAW,EACXP,KAAAA,OAASA,EACTC,KAAAA,WAAaA,EAgCtB,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,QA9BE,MAAA,WAAQ,IAAA,EAAA,KACF,KAAKM,WAGJA,KAAAA,UAAW,EACXD,KAAAA,WAAaE,YAAY,WACtBC,IAAAA,EAAcC,KAAKC,MAEnBnB,EAAOD,EADK,EAAKU,WAAaQ,GAEpC,EAAKT,OAAOR,IACX,QAoBP,CAAA,IAAA,OAlBE,MAAA,WACEoB,cAAc,KAAKN,YACdC,KAAAA,UAAW,MAgBpB,EAhDMR,GAoCN,SAASc,EAAkD,GAA3BpB,IAAAA,EAAAA,EAAAA,KAAMG,EAAAA,EAAAA,MAAOC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,KAC5CL,KAAAA,KAAKqB,YAAiBrB,GAAAA,OAAAA,GACtBG,KAAAA,MAAMkB,YAAiBlB,GAAAA,OAAAA,GACvBC,KAAAA,KAAKiB,YAAiBjB,GAAAA,OAAAA,GACtBC,KAAAA,KAAKgB,YAAiBhB,GAAAA,OAAAA,GAG7B,IAAMI,EAAQ,IAAIH,EAAe,CAC/BC,OAAQa,EACRZ,WAAY,IAAIS,KAAK,sBAGvBR,EAAMa;;AClFN,aADA,QAAA,oBACA,QAAA","file":"src.3bcb409b.js","sourceRoot":"../src","sourcesContent":["// Плагин это класс CountdownTimer, экземпляр которого создает новый таймер с настройками.\n\n// Принимает число, приводит к строке и добавляет в начало 0 если число меньше 2-х знаков\n\nfunction pad(value) {\n  return String(value).padStart(2, \"0\");\n}\n\n//  - Принимает время в миллисекундах\n//  - Высчитывает сколько в них вмещается часов/минут/секунд\n//  - Возвращает обьект со свойствами hours, mins, secs\n//   - Адская копипаста со стека\n\n// time - разница между targetDate и текущей датой\n\nfunction getTimeComponents(time) {\n  // Оставшиеся дни: делим значение UTC на 1000 * 60 * 60 * 24, количество\n  //  миллисекунд в одном дне (миллисекунды * секунды * минуты * часы)\n  const days = pad(Math.floor(time / (1000 * 60 * 60 * 24)));\n  //     Оставшиеся часы: получаем остаток от предыдущего расчета с помощью оператора\n  //  остатка % и делим его на количество миллисекунд в одном часе\n  //  (1000 * 60 * 60 = миллисекунды * минуты * секунды)\n  const hours = pad(\n    Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n  );\n  //     Оставшиеся минуты: получаем оставшиеся минуты и делим их на количество\n  //     миллисекунд в одной минуте (1000 * 60 = миллисекунды * секунды)\n  const mins = pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n  //  Оставшиеся секунды: получаем оставшиеся секунды и делим их на количество\n  //   миллисекунд в одной секунде (1000)\n  const secs = pad(Math.floor((time % (1000 * 60)) / 1000));\n\n  return { days, hours, mins, secs };\n}\n\nclass CountdownTimer {\n  timer;\n  days;\n  hours;\n  mins;\n  secs;\n\n  constructor({ onTick, TargetDate }) {\n    this.timer = document.getElementById(\"timer-1\");\n    this.days = document.querySelector('[data-value=\"days\"]');\n    this.hours = document.querySelector('[data-value=\"hours\"]');\n    this.mins = document.querySelector('[data-value=\"mins\"]');\n    this.secs = document.querySelector('[data-value=\"secs\"]');\n    this.intervalId = null;\n    this.isActive = false;\n    this.onTick = onTick;\n    this.TargetDate = TargetDate;\n  }\n  start() {\n    if (this.isActive) {\n      return;\n    }\n    this.isActive = true;\n    this.intervalId = setInterval(() => {\n      const currentTime = Date.now();\n      const deltaTime = this.TargetDate - currentTime;\n      const time = getTimeComponents(deltaTime);\n      this.onTick(time);\n    }, 1000);\n  }\n  stop() {\n    clearInterval(this.intervalId);\n    this.isActive = false;\n  }\n}\n\nfunction updateClockInterface({ days, hours, mins, secs }) {\n  this.days.textContent = `${days}`;\n  this.hours.textContent = `${hours}`;\n  this.mins.textContent = `${mins}`;\n  this.secs.textContent = `${secs}`;\n}\n\nconst timer = new CountdownTimer({\n  onTick: updateClockInterface,\n  TargetDate: new Date(\"January 01, 2022\"),\n});\n\ntimer.start();\n","import \"./scss/main.scss\";\nimport \"./js/timer\";\n"]}